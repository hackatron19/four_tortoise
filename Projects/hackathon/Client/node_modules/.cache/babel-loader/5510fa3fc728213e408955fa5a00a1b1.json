{"ast":null,"code":"import _defineProperty from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/inherits\";import{Button,Form,Header,Image,Icon,Loader,Divider,Label,Table,Transition,Grid}from\"semantic-ui-react\";import React,{Component}from\"react\";import fire from\"../../firebase\";var PostItem=/*#__PURE__*/function(_Component){_inherits(PostItem,_Component);function PostItem(props){var _this;_classCallCheck(this,PostItem);_this=_possibleConstructorReturn(this,_getPrototypeOf(PostItem).call(this,props));_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));console.log(_this.state);};_this.account=function(){var _fire$auth=fire.auth(),currentUser=_fire$auth.currentUser;fire.database().ref(\"foodItem/\".concat(currentUser.uid,\"/\")).on(\"value\",function(snapshot){var obj=snapshot.val();var list=[];var keys=[];for(var a in obj){list.push(obj[a]);keys.push(a);}_this.setState({list:list,keys:keys,loading:false},function(){return console.log(list);});});};_this.delete=function(index){var _fire$auth2=fire.auth(),currentUser=_fire$auth2.currentUser;fire.database().ref(\"feed/\".concat(currentUser.uid,\"/\").concat(_this.state.keys[index])).remove();};_this.edit=function(item,index){_this.setState({showPostItem:!_this.state.showPostItem,modal:index,cost:item.cost,quantity:item.quantity});console.log(_this.state);};_this.showSetting=function(){_this.setState({showSetting:!_this.state.showSetting});};_this.update=function(index){var _fire$auth3=fire.auth(),currentUser=_fire$auth3.currentUser;_this.setState({loading:true});fire.database().ref(\"foodItem/\".concat(currentUser.uid,\"/\").concat(_this.state.keys[index])).update({cost:_this.state.cost,quantity:_this.state.quantity}).then(function(){_this.setState({loading:false});}).catch(function(err){return console.error(err);});};_this.state={showSetting:false,loading:false,showPostItem:false,list:[],keys:[],quantity:0,cost:0,modal:0};_this.account=_this.account.bind(_assertThisInitialized(_this));return _this;}_createClass(PostItem,[{key:\"componentDidMount\",value:function componentDidMount(){this.account();}},{key:\"render\",value:function render(){var _this2=this;var listItems=this.state.list.map(function(item,index){return React.createElement(\"div\",null,React.createElement(Table,{fixed:true,stackable:true,style:{marginTop:\"4vh\",marginBottom:\"0vh\"}},React.createElement(Table.Body,null,React.createElement(Table.Row,{style:{background:\"lightcoral\",color:\"black\"}},React.createElement(Table.Cell,{width:4},React.createElement(\"h2\",null,item.product)),React.createElement(Table.Cell,{width:3},React.createElement(\"h2\",null,\"Quantity : \",item.quantity)),React.createElement(Table.Cell,{width:4},React.createElement(\"h3\",null,\" Cost per \",item.metric,\" :Rs. \",item.cost)),React.createElement(Table.Cell,{textAlign:\"center\",width:3},React.createElement(Button,{size:\"small\",color:\"blue\",onClick:function onClick(){return _this2.delete(index);}},React.createElement(Icon,{name:\"close\"}),\"DELETE\"),React.createElement(Divider,null),_this2.state.showSetting?React.createElement(Button,{size:\"small\",color:_this2.state.showPostItem?\"white\":\"yellow\",onClick:function onClick(){return _this2.edit(item,index);}},React.createElement(Button.Content,{visible:true},React.createElement(Icon,{name:\"pencil\"}),_this2.state.showPostItem?\"DISABLE EDIT\":\"ENABLE EDIT\")):null)))),React.createElement(Transition,{visible:_this2.state.showPostItem&&_this2.state.modal===index,animation:\"vertical flip\",duration:400},React.createElement(Form,{style:{paddingBottom:\"8vh\",paddingTop:\"2vh\"}},React.createElement(Form.Group,{widths:\"equal\"},React.createElement(Form.Input,{onChange:_this2.handleChange,name:\"cost\",label:\"New Cost\"}),React.createElement(Form.Input,{fluid:true,onChange:_this2.handleChange,name:\"quantity\",label:\"Quantity\",required:true})),React.createElement(Button,{as:\"div\",compact:true,labelPosition:\"left\",size:\"large\",onClick:function onClick(){return _this2.update(index);}},React.createElement(Label,{as:\"span\",color:\"black\"},\"UPDATE\"),React.createElement(Button,{color:\"yellow\",icon:true,compact:true},React.createElement(Icon,{name:\"pencil\",color:\"black\"}))))));});return React.createElement(\"div\",null,React.createElement(Button,{color:\"green\",size:\"compact\",fluid:true,onClick:function onClick(){return _this2.showSetting();}},React.createElement(Button.Content,{visible:true},this.state.showSetting?\"DISABLE ADD ITEMS Mode\":\"ADD ITEMS MODE\")),this.state.showSetting?React.createElement(\"div\",null,listItems):null,this.state.loading?React.createElement(Loader,{style:{marginTop:\"5%\"},active:true,inline:\"centered\"}):null);}}]);return PostItem;}(Component);export default PostItem;","map":{"version":3,"sources":["/home/aman208/Desktop/Projects/hackathon/Client/src/Account/Retailer/PostItem.js"],"names":["Button","Form","Header","Image","Icon","Loader","Divider","Label","Table","Transition","Grid","React","Component","fire","PostItem","props","handleChange","e","setState","target","name","value","console","log","state","account","auth","currentUser","database","ref","uid","on","snapshot","obj","val","list","keys","a","push","loading","delete","index","remove","edit","item","showPostItem","modal","cost","quantity","showSetting","update","then","catch","err","error","bind","listItems","map","marginTop","marginBottom","background","color","product","metric","paddingBottom","paddingTop"],"mappings":"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","sourcesContent":["\nimport {\n    Button,\n    Form,\n    Header,\n    Image,\n    Icon,\n    Loader,\n    Divider,\n    Label,\n    Table,\n    Transition , Grid\n  } from \"semantic-ui-react\";\n  import React, { Component } from \"react\";\n  import fire from \"../../firebase\";\n \n\n  \n  class PostItem extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        showSetting :  false ,\n        loading: false,\n        showPostItem: false,\n        list: [],\n        keys:[],\n        quantity : 0 ,\n        cost : 0 ,\n        modal: 0\n      \n      \n\n      };\n\n      this.account = this.account.bind(this);\n    }\n\n    componentDidMount(){\n\n\n        this.account();\n    }\n  \n    \n    handleChange = e => {\n      this.setState({ [e.target.name]: e.target.value });\n      console.log(this.state);\n    };\n  \n   \n    account = () => {\n      const { currentUser } = fire.auth();\n      fire\n        .database()\n        .ref(`foodItem/${currentUser.uid}/`)\n        .on(\"value\", snapshot => {\n          var obj = snapshot.val();\n          var list = [];\n          var keys = [];\n          for (let a in obj) {\n            list.push(obj[a]);\n            keys.push(a);\n          }\n          \n          this.setState({\n            list: list,\n            keys: keys,\n            loading: false\n          } , () => console.log(list));\n        });\n    };\n  \n    delete = index => {\n   \n      const { currentUser } = fire.auth();\n      fire\n        .database()\n        .ref(`feed/${currentUser.uid}/${this.state.keys[index]}`)\n        .remove();\n    };\n  \n    edit = (item, index) => {\n      \n      this.setState({ showPostItem: !this.state.showPostItem , modal : index ,\n         cost :item.cost ,\n         quantity :item.quantity, \n       });\n\n        console.log(this.state)\n    };\n\n    showSetting = () =>{\n        this.setState({showSetting: !this.state.showSetting});\n    }\n  \n    update = (index) => {\n      const { currentUser } = fire.auth();\n  \n      this.setState({ loading: true });\n      fire\n        .database()\n        .ref(`foodItem/${currentUser.uid}/${this.state.keys[index]}`)\n        .update({\n          cost: this.state.cost,\n          quantity: this.state.quantity\n        })\n        .then(() => {\n          this.setState({\n            loading: false\n          });\n        })\n        .catch((err) =>\n        console.error(err));\n    };\n  \n    render() {\n\n      const listItems = this.state.list.map((item, index) => (\n        <div>\n          <Table fixed stackable\n            style={{ marginTop: \"4vh\", marginBottom: \"0vh\" }}\n          >\n            <Table.Body>\n             <Table.Row style={{background:\"lightcoral\" , color:\"black\"  }}>\n              <Table.Cell width={4} >\n               <h2>{item.product}</h2>\n              </Table.Cell>\n\n              <Table.Cell width={3}>\n                <h2>Quantity : {item.quantity}</h2>\n              </Table.Cell>\n              <Table.Cell width={4}>\n                <h3> Cost per {item.metric} :Rs. {item.cost}</h3>\n              </Table.Cell>\n             \n\n              <Table.Cell textAlign=\"center\" width={3}>\n              \n                <Button size=\"small\" color='blue' onClick={() => this.delete(index)}>\n                  <Icon name='close' />\n                  DELETE\n                </Button> \n                <Divider/>\n\n\n                {this.state.showSetting ?\n                   <Button size=\"small\"color={this.state.showPostItem ? \"white\" : \"yellow\"}\n                    onClick={() => this.edit(item ,index)}>\n                  <Button.Content visible>\n                  <Icon name='pencil' />\n                      {this.state.showPostItem\n                        ? \"DISABLE EDIT\"\n                        : \"ENABLE EDIT\"}\n                    </Button.Content>\n                </Button> : null }\n\n              </Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          </Table>\n\n          <Transition\n  visible={this.state.showPostItem && this.state.modal === index}\n  animation=\"vertical flip\"\n  duration={400}\n>\n  <Form\n    style={{\n      paddingBottom: \"8vh\",\n      paddingTop: \"2vh\"\n    }}\n  >\n    <Form.Group widths=\"equal\">\n      <Form.Input\n        onChange={this.handleChange}\n        name=\"cost\"\n        label =\"New Cost\"\n      />\n      <Form.Input\n        fluid\n        onChange={this.handleChange}\n        name=\"quantity\"\n        label =\"Quantity\"\n        required\n      />\n    </Form.Group>\n   \n    <Button as=\"div\" compact\n      labelPosition=\"left\"\n      size=\"large\"\n      onClick={() => this.update(index)}\n    >\n      <Label as=\"span\" color=\"black\">\n        UPDATE\n      </Label>\n      <Button color=\"yellow\" icon compact>\n        <Icon name=\"pencil\" color=\"black\" />\n      </Button>\n    </Button>\n  </Form>\n</Transition>\n        \n       \n        </div>\n      ));\n\n      return (\n        <div >\n            <Button\n                    color=\"green\"\n                    size=\"compact\" fluid\n                    onClick={() => this.showSetting()}\n                  >\n                    <Button.Content visible>\n                      {this.state.showSetting\n                        ? \"DISABLE ADD ITEMS Mode\": \"ADD ITEMS MODE\"\n                        }\n                    </Button.Content>\n                  </Button>\n            {this.state.showSetting ? <div>{listItems}</div> : null}\n            {this.state.loading ? (\n              <Loader style={{ marginTop: \"5%\" }} active inline=\"centered\" />\n            ) : null}\n          </div>\n       \n       \n      );\n    }\n  }\n\n\n\n       \n  \n  export default PostItem;\n\n\n\n\n\n\n\n  "]},"metadata":{},"sourceType":"module"}