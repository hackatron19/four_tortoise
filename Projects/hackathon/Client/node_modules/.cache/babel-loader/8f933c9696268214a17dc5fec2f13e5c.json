{"ast":null,"code":"var _jsxFileName = \"/home/aman208/Desktop/Projects/hackathon/Client/src/Account/Retailer/PostItem.js\";\nimport { Button, Form, Header, Image, Icon, Loader, Divider, Label, Table, Transition, Grid } from \"semantic-ui-react\";\nimport React, { Component } from \"react\";\nimport fire from \"../../firebase\";\n\nclass PostItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n      console.log(this.state);\n    };\n\n    this.account = () => {\n      const _fire$auth = fire.auth(),\n            currentUser = _fire$auth.currentUser;\n\n      fire.database().ref(\"foodItem/\".concat(currentUser.uid, \"/\")).on(\"value\", snapshot => {\n        var obj = snapshot.val();\n        var list = [];\n        var keys = [];\n\n        for (let a in obj) {\n          list.push(obj[a]);\n          keys.push(a);\n        }\n\n        this.setState({\n          list: list,\n          keys: keys,\n          loading: false\n        }, () => console.log(list));\n      });\n    };\n\n    this.delete = index => {\n      const _fire$auth2 = fire.auth(),\n            currentUser = _fire$auth2.currentUser;\n\n      fire.database().ref(\"feed/\".concat(currentUser.uid, \"/\").concat(this.state.keys[index])).remove();\n    };\n\n    this.edit = (item, index) => {\n      this.setState({\n        showPostItem: !this.state.showPostItem,\n        modal: index,\n        cost: item.cost,\n        quantity: item.quantity\n      });\n      console.log(this.state);\n    };\n\n    this.showSetting = () => {\n      this.setState({\n        showSetting: !this.state.showSetting\n      });\n    };\n\n    this.update = index => {\n      const _fire$auth3 = fire.auth(),\n            currentUser = _fire$auth3.currentUser;\n\n      this.setState({\n        loading: true\n      });\n      fire.database().ref(\"feed/\".concat(currentUser.uid, \"/\").concat(this.state.keys[index])).update({\n        cost: this.state.cost,\n        quantity: this.state.quantity\n      }).then(() => {\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.state = {\n      showSetting: false,\n      loading: false,\n      showPostItem: false,\n      list: [],\n      keys: [],\n      quantity: 0,\n      cost: 0,\n      modal: 0\n    };\n    this.account = this.account.bind(this);\n  }\n\n  componentDidMount() {\n    this.account();\n  }\n\n  render() {\n    const listItems = this.state.list.map((item, index) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Table, {\n      fixed: true,\n      stackable: true,\n      style: {\n        marginTop: \"4vh\",\n        marginBottom: \"0vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(Table.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      style: {\n        background: \"lightcoral\",\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Table.Cell, {\n      width: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, item.product)), React.createElement(Table.Cell, {\n      width: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Quantity : \", item.quantity)), React.createElement(Table.Cell, {\n      width: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \" Cost per \", item.metric, \" :Rs. \", item.cost)), React.createElement(Table.Cell, {\n      textAlign: \"center\",\n      width: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"small\",\n      color: \"blue\",\n      onClick: () => this.delete(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), \"DELETE\"), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), this.state.showSetting ? React.createElement(Button, {\n      size: \"small\",\n      color: this.state.showPostItem ? \"white\" : \"yellow\",\n      onClick: () => this.edit(item, index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Button.Content, {\n      visible: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"pencil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), this.state.showPostItem ? \"DISABLE EDIT\" : \"ENABLE EDIT\")) : null)))), React.createElement(Transition, {\n      visible: this.state.showPostItem && this.state.modal === index,\n      animation: \"vertical flip\",\n      duration: 400,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Form, {\n      style: {\n        paddingBottom: \"8vh\",\n        paddingTop: \"2vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      widths: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      onChange: this.handleChange,\n      name: \"cost\",\n      label: \"New Cost\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      fluid: true,\n      onChange: this.handleChange,\n      name: \"quantity\",\n      label: \"Quantity\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    })), React.createElement(Button, {\n      as: \"div\",\n      compact: true,\n      labelPosition: \"left\",\n      size: \"large\",\n      onClick: () => this.update(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(Label, {\n      as: \"span\",\n      color: \"black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"UPDATE\"), React.createElement(Button, {\n      color: \"yellow\",\n      icon: true,\n      compact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"pencil\",\n      color: \"black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    })))))));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"green\",\n      size: \"compact\",\n      fluid: true,\n      onClick: () => this.showSetting(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(Button.Content, {\n      visible: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, this.state.showSetting ? \"DISABLE ADD ITEMS Mode\" : \"ADD ITEMS MODE\")), this.state.showSetting ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, listItems) : null, this.state.loading ? React.createElement(Loader, {\n      style: {\n        marginTop: \"5%\"\n      },\n      active: true,\n      inline: \"centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default PostItem;","map":{"version":3,"sources":["/home/aman208/Desktop/Projects/hackathon/Client/src/Account/Retailer/PostItem.js"],"names":["Button","Form","Header","Image","Icon","Loader","Divider","Label","Table","Transition","Grid","React","Component","fire","PostItem","constructor","props","handleChange","e","setState","target","name","value","console","log","state","account","auth","currentUser","database","ref","uid","on","snapshot","obj","val","list","keys","a","push","loading","delete","index","remove","edit","item","showPostItem","modal","cost","quantity","showSetting","update","then","bind","componentDidMount","render","listItems","map","marginTop","marginBottom","background","color","product","metric","paddingBottom","paddingTop"],"mappings":"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","sourcesContent":["\nimport {\n    Button,\n    Form,\n    Header,\n    Image,\n    Icon,\n    Loader,\n    Divider,\n    Label,\n    Table,\n    Transition , Grid\n  } from \"semantic-ui-react\";\n  import React, { Component } from \"react\";\n  import fire from \"../../firebase\";\n \n\n  \n  class PostItem extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        showSetting :  false ,\n        loading: false,\n        showPostItem: false,\n        list: [],\n        keys:[],\n        quantity : 0 ,\n        cost : 0 ,\n        modal: 0\n      \n      \n\n      };\n\n      this.account = this.account.bind(this);\n    }\n\n    componentDidMount(){\n\n\n        this.account();\n    }\n  \n    \n    handleChange = e => {\n      this.setState({ [e.target.name]: e.target.value });\n      console.log(this.state)\n    };\n  \n   \n    account = () => {\n      const { currentUser } = fire.auth();\n      fire\n        .database()\n        .ref(`foodItem/${currentUser.uid}/`)\n        .on(\"value\", snapshot => {\n          var obj = snapshot.val();\n          var list = [];\n          var keys = [];\n          for (let a in obj) {\n            list.push(obj[a]);\n            keys.push(a);\n          }\n          \n          this.setState({\n            list: list,\n            keys: keys,\n            loading: false\n          } , () => console.log(list));\n        });\n    };\n  \n    delete = index => {\n   \n      const { currentUser } = fire.auth();\n      fire\n        .database()\n        .ref(`feed/${currentUser.uid}/${this.state.keys[index]}`)\n        .remove();\n    };\n  \n    edit = (item, index) => {\n      \n      this.setState({ showPostItem: !this.state.showPostItem , modal : index ,\n         cost :item.cost ,\n         quantity :item.quantity, \n       });\n\n        console.log(this.state)\n    };\n\n    showSetting = () =>{\n        this.setState({showSetting: !this.state.showSetting});\n    }\n  \n    update = (index) => {\n      const { currentUser } = fire.auth();\n  \n      this.setState({ loading: true });\n      fire\n        .database()\n        .ref(`feed/${currentUser.uid}/${this.state.keys[index]}`)\n        .update({\n          cost: this.state.cost,\n          quantity: this.state.quantity\n        })\n        .then(() => {\n          this.setState({\n            loading: false\n          });\n        });\n    };\n  \n    render() {\n\n      const listItems = this.state.list.map((item, index) => (\n        <div>\n          <Table fixed stackable\n            style={{ marginTop: \"4vh\", marginBottom: \"0vh\" }}\n          >\n            <Table.Body>\n             <Table.Row style={{background:\"lightcoral\" , color:\"black\"  }}>\n              <Table.Cell width={4} >\n               <h2>{item.product}</h2>\n              </Table.Cell>\n\n              <Table.Cell width={3}>\n                <h2>Quantity : {item.quantity}</h2>\n              </Table.Cell>\n              <Table.Cell width={4}>\n                <h3> Cost per {item.metric} :Rs. {item.cost}</h3>\n              </Table.Cell>\n             \n\n              <Table.Cell textAlign=\"center\" width={3}>\n              \n                <Button size=\"small\" color='blue' onClick={() => this.delete(index)}>\n                  <Icon name='close' />\n                  DELETE\n                </Button> \n                <Divider/>\n\n\n                {this.state.showSetting ?\n                   <Button size=\"small\"color={this.state.showPostItem ? \"white\" : \"yellow\"}\n                    onClick={() => this.edit(item ,index)}>\n                  <Button.Content visible>\n                  <Icon name='pencil' />\n                      {this.state.showPostItem\n                        ? \"DISABLE EDIT\"\n                        : \"ENABLE EDIT\"}\n                    </Button.Content>\n                </Button> : null }\n\n              </Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          </Table>\n\n          <Transition\n  visible={this.state.showPostItem && this.state.modal === index}\n  animation=\"vertical flip\"\n  duration={400}\n>\n  <Form\n    style={{\n      paddingBottom: \"8vh\",\n      paddingTop: \"2vh\"\n    }}\n  >\n    <Form.Group widths=\"equal\">\n      <Form.Input\n        onChange={this.handleChange}\n        name=\"cost\"\n        label =\"New Cost\"\n      />\n      <Form.Input\n        fluid\n        onChange={this.handleChange}\n        name=\"quantity\"\n        label =\"Quantity\"\n        required\n      />\n    </Form.Group>\n   \n    <Button as=\"div\" compact\n      labelPosition=\"left\"\n      size=\"large\"\n      onClick={() => this.update(index)}\n    >\n      <Label as=\"span\" color=\"black\">\n        UPDATE\n      </Label>\n      <Button color=\"yellow\" icon compact>\n        <Icon name=\"pencil\" color=\"black\" />\n      </Button>\n    </Button>\n  </Form>\n</Transition>\n        \n       \n        </div>\n      ));\n\n      return (\n        <div >\n            <Button\n                    color=\"green\"\n                    size=\"compact\" fluid\n                    onClick={() => this.showSetting()}\n                  >\n                    <Button.Content visible>\n                      {this.state.showSetting\n                        ? \"DISABLE ADD ITEMS Mode\": \"ADD ITEMS MODE\"\n                        }\n                    </Button.Content>\n                  </Button>\n            {this.state.showSetting ? <div>{listItems}</div> : null}\n            {this.state.loading ? (\n              <Loader style={{ marginTop: \"5%\" }} active inline=\"centered\" />\n            ) : null}\n          </div>\n       \n       \n      );\n    }\n  }\n\n\n\n       \n  \n  export default PostItem;\n\n\n\n\n\n\n\n  "]},"metadata":{},"sourceType":"module"}