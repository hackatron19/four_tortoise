{"ast":null,"code":"import _defineProperty from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/aman208/Desktop/Projects/hackathon/Client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import moment from\"moment\";import fire from'../firebase';import{Route,Link,BrowserRouter as Router,Switch}from'react-router-dom';import{Button,Container,Icon,Image,Header,Grid,Loader,Divider,Form}from\"semantic-ui-react\";import\"../App.css\";var Addphoto=/*#__PURE__*/function(_Component){_inherits(Addphoto,_Component);function Addphoto(props){var _this;_classCallCheck(this,Addphoto);_this=_possibleConstructorReturn(this,_getPrototypeOf(Addphoto).call(this,props));_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.showArticle=function(){_this.setState({showArticle:!_this.state.showArticle});};_this.new=function(e){_this.setState({loading:true,showArticle:false});e.preventDefault();var title=_this.state.title;var description=_this.state.description;var picture=_this.state.picture;var score=0;var timestamp=moment().format(\"LLL\");var _fire$auth=fire.auth(),currentUser=_fire$auth.currentUser;fire.database().ref(\"feed/\".concat(currentUser.uid,\"/\")).push({title:title,description:description,picture:picture,score:score,timestamp:timestamp,user:currentUser.email}).then(function(){_this.setState({loading:false});});};_this.state={loading:false,title:\"\",description:\"\",picture:\"\",showArticle:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.showArticle=_this.showArticle.bind(_assertThisInitialized(_this));return _this;}_createClass(Addphoto,[{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"div\",{style:{paddingTop:'2vh',paddingBottom:'2vh'}},!this.state.showArticle?React.createElement(Button,{color:\"green\",fluid:true,onClick:this.showArticle,size:\"compact\"},\"CREATE NEW POST\"):null),this.state.showArticle?React.createElement(Container,{fluid:true,style:{paddingBottom:'4vh'}},React.createElement(Header,{as:\"h2\",style:{paddingTop:\"3vh\",marginTop:\"0vh\",color:\"white\"}},React.createElement(Icon,{name:\"save\"}),React.createElement(Header.Content,null,\"New Post\")),React.createElement(Divider,null),React.createElement(Form,null,React.createElement(Form.Group,{widths:\"equal\"},React.createElement(Form.Input,{fluid:true,value:this.state.title,onChange:this.handleChange,name:\"title\",label:\"A cool title\",required:true}),React.createElement(Form.Input,{fluid:true,value:this.state.picture,onChange:this.handleChange,name:\"picture\",label:\"Picture URL\",required:true})),React.createElement(Form.TextArea,{autoHeight:true,rows:4,value:this.state.description,onChange:this.handleChange,name:\"description\",label:\"What's on your mind?\",required:true}),React.createElement(Button,{animated:\"vertical\",color:\"black\",size:\"small\",onClick:this.new},React.createElement(Button.Content,{visible:true},\"SUBMIT\"),React.createElement(Button.Content,{hidden:true},React.createElement(Icon,{name:\"plus\"}))),React.createElement(Button,{id:\"formBTN\",animated:\"vertical\",color:\"white\",size:\"small\",onClick:this.showArticle},React.createElement(Button.Content,{visible:true},\"CANCEL\"),React.createElement(Button.Content,{hidden:true},React.createElement(Icon,{name:\"cancel\"}))))):null,this.state.load?React.createElement(\"div\",null,React.createElement(Loader,{style:{marginTop:\"25%\"},active:true,inline:\"centered\"})):null);}}]);return Addphoto;}(Component);export default Addphoto;//  snapshot.forEach(function(data) {\n//console.log(\"The \" + data.key + \" dinosaur's score is \" + data.val());\n// });","map":{"version":3,"sources":["/home/aman208/Desktop/Projects/hackathon/Client/src/Account/AddPhoto.js"],"names":["React","Component","moment","fire","Route","Link","BrowserRouter","Router","Switch","Button","Container","Icon","Image","Header","Grid","Loader","Divider","Form","Addphoto","props","handleChange","e","setState","target","name","value","showArticle","state","new","loading","preventDefault","title","description","picture","score","timestamp","format","auth","currentUser","database","ref","uid","push","user","email","then","bind","paddingTop","paddingBottom","marginTop","color","load"],"mappings":"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","sourcesContent":["\nimport React, { Component } from \"react\";\nimport moment from \"moment\";\nimport fire from '../firebase';\n\n\n\nimport { Route,\n  Link,\n  BrowserRouter as Router , \n  Switch} from 'react-router-dom'\n\n\nimport {\n  Button,\n  Container,\n  Icon,\n  Image,\n  Header,\n  Grid,\n  Loader,\n  Divider,\n \n  Form ,\n \n} from \"semantic-ui-react\";\nimport \"../App.css\";\n\nclass Addphoto extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      title: \"\",\n      description: \"\",\n      picture: \"\",\n    \n      showArticle: false ,\n     \n    };\n\n    this.handleChange =  this.handleChange.bind(this);\n    this.showArticle =  this.showArticle.bind(this);\n   \n   \n  }\n\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n\n  showArticle = () => {\n    this.setState({ showArticle: !this.state.showArticle });\n  };\n\n  // POST Function\n  new = e => {\n    this.setState({ loading: true, showArticle: false });\n    e.preventDefault();\n    \n    let title = this.state.title;\n    let description = this.state.description;\n    let picture = this.state.picture;\n    let score = 0;\n    let timestamp = moment().format(\"LLL\");\n    const { currentUser } = fire.auth();\n\n    fire\n      .database()\n      .ref(`feed/${currentUser.uid}/`)\n      .push({\n        title,\n        description,\n        picture,\n        score,\n        timestamp,\n        user: currentUser.email\n      })\n      .then(() => {\n        this.setState({\n          loading: false\n        });\n      });\n  };\n\n \n\n\n\n  render() {\n   return (\n      <div >\n       \n\n     <div style={{paddingTop: '2vh', paddingBottom: '2vh'}}>\n                {!this.state.showArticle ? (\n                  <Button\n                    color=\"green\"\n                    fluid\n                    onClick={this.showArticle}\n                    size=\"compact\"\n                  >\n                    CREATE NEW POST\n                  </Button>\n                ) : null}\n              </div>\n          \n\n            {this.state.showArticle ? (\n              <Container fluid style={{paddingBottom: '4vh' }}>\n                <Header as=\"h2\" style={{ paddingTop: \"3vh\", marginTop: \"0vh\" ,color:\"white\" }}>\n                  <Icon name=\"save\" />\n                  <Header.Content>New Post</Header.Content>\n                </Header>\n\n                <Divider />\n                  <Form >\n                  <Form.Group widths=\"equal\" >\n                    <Form.Input\n                      fluid\n                      value={this.state.title}\n                      onChange={this.handleChange}\n                      name=\"title\"\n                      label=\"A cool title\"\n                      required\n                    />\n                    <Form.Input\n                      fluid\n                      value={this.state.picture}\n                      onChange={this.handleChange}\n                      name=\"picture\"\n                      label=\"Picture URL\"\n                      required\n                    />\n                  </Form.Group>\n                  <Form.TextArea\n                    autoHeight\n                    rows={4}\n                    value={this.state.description}\n                    onChange={this.handleChange}\n                    name=\"description\"\n                    label=\"What's on your mind?\"\n                    required\n                  />\n                  <Button\n                    animated=\"vertical\"\n                    color=\"black\"\n                    size=\"small\"\n                    onClick={this.new}\n                  >\n                    <Button.Content visible>SUBMIT</Button.Content>\n                    <Button.Content hidden>\n                      <Icon name=\"plus\" />\n                    </Button.Content>\n                  </Button>\n\n                  <Button\n                    id=\"formBTN\"\n                    animated=\"vertical\"\n                    color=\"white\"\n                    size=\"small\"\n                    onClick={this.showArticle}\n                  >\n                    <Button.Content visible>CANCEL</Button.Content>\n                    <Button.Content hidden>\n                      <Icon name=\"cancel\" />\n                    </Button.Content>\n                  </Button>\n                </Form>\n              </Container>\n            ) : null}\n\n          \n            {this.state.load ? (\n              <div>\n                <Loader style={{ marginTop: \"25%\" }} active inline=\"centered\" />\n              </div>\n            ) : null}\n\n         \n        \n      </div>\n    );\n  }\n}\n\nexport default Addphoto;\n\n\n\n\n//  snapshot.forEach(function(data) {\n  //console.log(\"The \" + data.key + \" dinosaur's score is \" + data.val());\n// });"]},"metadata":{},"sourceType":"module"}