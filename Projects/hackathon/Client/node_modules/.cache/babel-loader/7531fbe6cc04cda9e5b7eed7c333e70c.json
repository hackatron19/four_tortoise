{"ast":null,"code":"var _jsxFileName = \"/home/aman208/Desktop/Projects/hackathon/Client/src/FoodList/buynowVillage.js\";\nimport React, { Component } from 'react';\nimport moment from \"moment\";\nimport fire from '../firebase';\nimport { Button, Container, Card, Header, Image, Grid, Loader, Icon, Dimmer, Table, Transition, Label, Form, Comment, GridColumn, Divider } from \"semantic-ui-react\";\nimport Retailer from '../Account/Retailer/Retailer';\n\nvar qs = require('querystringify');\n\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      e.preventDefault();\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.back = () => {\n      this.props.history.push(\"/\");\n    };\n\n    this.account = id => {\n      const _fire$auth = fire.auth(),\n            currentUser = _fire$auth.currentUser;\n\n      fire.database().ref(\"foodItem/\".concat(id, \"/\")).on(\"value\", snapshot => {\n        var obj = snapshot.val();\n        var list = [];\n        var keys = [];\n\n        for (let a in obj) {\n          list.push(obj[a]);\n          keys.push(a);\n        }\n\n        this.setState({\n          list: list,\n          keys: keys,\n          loading: false\n        }, () => this.retailerDetails(list[0].retailer));\n      });\n    };\n\n    this.edit = (item, index) => {\n      this.setState({\n        showPostItem: !this.state.showPostItem,\n        modal: index,\n        cost: item.cost\n      });\n      console.log(this.state);\n    };\n\n    this.showSetting = () => {\n      this.setState({\n        showSetting: !this.state.showSetting\n      });\n    };\n\n    this.billbool = () => {\n      this.setState({\n        bill: !this.state.bill\n      });\n    };\n\n    this.update = (item, index) => {\n      let cartmenu = {\n        product: item.product,\n        cost: item.cost,\n        quantity: this.state.quantity,\n        metric: item.metric,\n        foodid: Object.keys(item)\n      };\n      let list = this.state.list;\n      list[index].quantity = list[index].quantity - this.state.quantity;\n      let cart = this.state.cart;\n      cart.push(cartmenu);\n      this.setState({\n        cart: cart,\n        list: list,\n        quantity: 0\n      }, () => console.log(this.state.cart));\n    };\n\n    this.retailerDetails = id => {\n      fire.database().ref(\"people/\".concat(id)).on(\"value\", snapshot => {\n        var obj = snapshot.val();\n        let retailer = {\n          name: obj.name,\n          village: obj.village,\n          contact: obj.contact\n        };\n        this.setState({\n          retailer: retailer\n        }, () => console.log(this.state.retailer));\n      });\n    };\n\n    this.ConfirmOrder = () => {\n      console.log(this.state);\n    };\n\n    this.state = {\n      key1: \"\",\n      key2: \"\",\n      loading: false,\n      quantity: 0,\n      showSetting: false,\n      showPostItem: false,\n      list: [],\n      keys: [],\n      cart: [],\n      retailer: {\n        name: \"\",\n        contact: \"\",\n        village: \"\"\n      },\n      custUid: \"\",\n      modal: 0,\n      bill: false\n    };\n    this.account = this.account.bind(this);\n    this.back = this.back.bind(this).bind(this);\n    this.retailerDetails = this.retailerDetails.bind(this);\n    this.billbool = this.billbool.bind(this);\n  }\n\n  componentWillMount() {\n    var _qs$parse = qs.parse(this.props.match.params.id),\n        id = _qs$parse.id;\n\n    var _qs$parse2 = qs.parse(this.props.match.params.id2),\n        id2 = _qs$parse2.id2;\n\n    this.account(id);\n    this.setState({\n      key1: id,\n      key2: id2,\n      loading: false\n    });\n  }\n\n  render() {\n    const listItems = this.state.list.map((item, index) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Table, {\n      fixed: true,\n      stackable: true,\n      style: {\n        marginTop: \"4vh\",\n        marginBottom: \"0vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Table.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      style: {\n        background: \"lightcoral\",\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(Table.Cell, {\n      width: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, item.product)), React.createElement(Table.Cell, {\n      width: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Quantity : \", item.quantity)), React.createElement(Table.Cell, {\n      width: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \" Cost per \", item.metric, \" :Rs. \", item.cost)), React.createElement(Table.Cell, {\n      textAlign: \"center\",\n      width: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, this.state.showSetting ? React.createElement(Button, {\n      size: \"small\",\n      color: this.state.showPostItem ? \"white\" : \"yellow\",\n      onClick: () => this.edit(item, index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(Button.Content, {\n      visible: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"pencil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }), this.state.showPostItem ? \"DISABL BUY EDIT\" : \"ENABLE BUY MODE\")) : null)))), React.createElement(Transition, {\n      visible: this.state.showPostItem && this.state.modal === index,\n      animation: \"vertical flip\",\n      duration: 400,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(Form, {\n      style: {\n        paddingBottom: \"8vh\",\n        paddingTop: \"2vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      widths: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      fluid: true,\n      onChange: this.handleChange,\n      name: \"quantity\",\n      label: \"Quantity\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    })), React.createElement(Button, {\n      as: \"div\",\n      compact: true,\n      labelPosition: \"left\",\n      size: \"large\",\n      onClick: () => this.update(item, index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(Label, {\n      as: \"span\",\n      color: \"black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Add To Cart\"), React.createElement(Button, {\n      color: \"yellow\",\n      icon: true,\n      compact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"shop\",\n      color: \"black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    })))))));\n    const cartlist = this.state.cart.map((item, index) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(Table, {\n      fixed: true,\n      stackable: true,\n      style: {\n        marginTop: \"4vh\",\n        marginBottom: \"0vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(Table.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      style: {\n        background: \"lightcoral\",\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(Table.Cell, {\n      width: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, item.product)), React.createElement(Table.Cell, {\n      width: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"Quantity : \", item.quantity)), React.createElement(Table.Cell, {\n      width: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \" Cost per \", item.metric, \" :Rs. \", item.cost)), React.createElement(Table.Cell, {\n      textAlign: \"center\",\n      width: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"small\",\n      color: this.state.showPostItem ? \"white\" : \"yellow\" // onClick={() => this.removeCartItem(item.foodid , index)}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(Button.Content, {\n      visible: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"remove\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }), \"Remove\"))))))));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, this.state.loading ? React.createElement(Loader, {\n      style: {\n        marginTop: \"5%\"\n      },\n      active: true,\n      inline: \"centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }) : null, React.createElement(Grid, {\n      style: {\n        marginTop: \"0vh\",\n        minHeight: \"100vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      id: \"headerContainer\",\n      style: {\n        backgroundColor: \"#123445\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"green\",\n      size: \"compact\",\n      fluid: true,\n      onClick: () => this.showSetting(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(Button.Content, {\n      visible: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, this.state.showSetting ? \"DISABLE BUY ITEMS MODE\" : \"BUY ITEMS MODE\")), this.state.showSetting ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, listItems, \" \", React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"Cart Menu\"), cartlist) : null, React.createElement(Button, {\n      float: true,\n      negative: true,\n      onClick: this.billbool,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, \"  Order Here \"), this.state.bill ? React.createElement(Billing, {\n      cart: this.state.cart,\n      retailer: this.state.retailer,\n      list: this.state.list,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }) : null, React.createElement(Button, {\n      positive: true,\n      onClick: this.back,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \" Back\"))));\n  }\n\n}\n\nexport default Welcome;\n\nconst Billing = props => {};","map":{"version":3,"sources":["/home/aman208/Desktop/Projects/hackathon/Client/src/FoodList/buynowVillage.js"],"names":["React","Component","moment","fire","Button","Container","Card","Header","Image","Grid","Loader","Icon","Dimmer","Table","Transition","Label","Form","Comment","GridColumn","Divider","Retailer","qs","require","Welcome","constructor","props","handleChange","e","preventDefault","setState","target","name","value","back","history","push","account","id","auth","currentUser","database","ref","on","snapshot","obj","val","list","keys","a","loading","retailerDetails","retailer","edit","item","index","showPostItem","state","modal","cost","console","log","showSetting","billbool","bill","update","cartmenu","product","quantity","metric","foodid","Object","cart","village","contact","ConfirmOrder","key1","key2","custUid","bind","componentWillMount","parse","match","params","id2","render","listItems","map","marginTop","marginBottom","background","color","paddingBottom","paddingTop","cartlist","minHeight","backgroundColor","Billing"],"mappings":"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","sourcesContent":["import React ,{Component} from 'react'\nimport moment from \"moment\";\nimport fire from '../firebase'\n\nimport {\n  Button,\n  Container,\n  Card,\n  Header,\n  Image,\n  Grid,\n  Loader,\n  Icon,\n  Dimmer,\n  Table ,\n  Transition , Label,\n  Form ,\n  Comment,\n  GridColumn,\n  Divider\n} from \"semantic-ui-react\";\nimport Retailer from '../Account/Retailer/Retailer';\n\n\n\n\n\n\nvar qs = require('querystringify');\n\n\n\n\nclass Welcome extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { key1:\"\" , key2:\"\" ,  loading :false,\n        quantity:0,\n        \n        showSetting :  false ,\n        \n        showPostItem: false,\n        list: [],\n        keys:[],\n        cart:[] ,\n\n        retailer:{\n          name:\"\" ,\n          contact : \"\",\n          village: \"\"\n        } ,\n\n        custUid:\"\" ,\n        modal: 0 ,\n        bill : false\n\n       \n    \n    };\n     this.account= this.account.bind(this);\n     this.back = this.back.bind(this).bind(this);\n     this.retailerDetails = this.retailerDetails.bind(this);\n     this.billbool = this.billbool.bind(this);\n     \n    \n      }\n\n\n      handleChange = (e) => {\n        e.preventDefault();\n        this.setState({[e.target.name]: e.target.value}  );\n      }\n\n     \n\n\n    back = () =>\n    { this.props.history.push(\"/\");\n    }\n\n    account = (id) => {\n      const { currentUser } = fire.auth();\n      fire\n        .database()\n        .ref(`foodItem/${id}/`)\n        .on(\"value\", snapshot => {\n          var obj = snapshot.val();\n          var list = [];\n          var keys = [];\n          for (let a in obj) {\n            list.push(obj[a]);\n            keys.push(a);\n          }\n          \n          this.setState({\n            list: list,\n            keys: keys,\n            loading: false ,\n           \n          } , () => this.retailerDetails( list[0].retailer));\n        });\n    };\n\n    edit = (item, index) => {\n      \n      this.setState({ showPostItem: !this.state.showPostItem , modal : index ,\n         cost :item.cost ,\n       });\n\n        console.log(this.state)\n    };\n\n    showSetting = () =>{\n        this.setState({showSetting: !this.state.showSetting});\n    }\n\n    billbool = ()=>{\n      this.setState({bill :  !this.state.bill})\n\n    }\n\n    update =(item , index) =>{\n\n       let cartmenu  = { product : item.product ,\n        cost : item.cost , quantity : this.state.quantity ,\n           metric : item.metric  , foodid: Object.keys(item) }\n       let  list = this.state.list;\n       list[index].quantity = list[index].quantity - this.state.quantity; \n        let cart = this.state.cart;\n        cart.push(cartmenu);\n        this.setState({cart:cart   , list : list , quantity : 0 } , () => console.log(this.state.cart));\n    } \n\n\n    retailerDetails = (id ) => {\n     \n        fire\n        .database()\n        .ref(`people/${id}`)\n        .on(\"value\", snapshot => {\n          var obj = snapshot.val();\n           let retailer = { name : obj.name ,\n             village : obj.village ,\n            contact : obj.contact } ;\n\n          this.setState({retailer : retailer } ,() => console.log(this.state.retailer));\n        } )\n\n\n    }\n\n    ConfirmOrder = () =>{\n    \n\n    console.log(this.state);\n\n    }\n\n     \n      \n   componentWillMount (){\n\n\n    var {id} = qs.parse(this.props.match.params.id); \n    var {id2} = qs.parse(this.props.match.params.id2); \n    this.account(id);    \n    this.setState({ key1: id , key2: id2  ,loading :false});\n\n\n   }\n\n\n\n    render() {\n\n      const listItems = this.state.list.map((item, index) => (\n        <div>\n          <Table fixed stackable\n            style={{ marginTop: \"4vh\", marginBottom: \"0vh\" }}\n          >\n            <Table.Body>\n             <Table.Row style={{background:\"lightcoral\" , color:\"black\"  }}>\n              <Table.Cell width={4} >\n               <h2>{item.product}</h2>\n              </Table.Cell>\n  \n              <Table.Cell width={3}>\n                <h2>Quantity : {item.quantity}</h2>\n              </Table.Cell>\n              <Table.Cell width={4}>\n                <h3> Cost per {item.metric} :Rs. {item.cost}</h3>\n              </Table.Cell>\n             \n  \n              <Table.Cell textAlign=\"center\" width={3}>\n              \n  \n                {this.state.showSetting ?\n                   <Button size=\"small\"color={this.state.showPostItem ? \"white\" : \"yellow\"}\n                    onClick={() => this.edit(item ,index)}>\n                  <Button.Content visible>\n                  <Icon name='pencil' />\n                      {this.state.showPostItem\n                        ? \"DISABL BUY EDIT\"\n                        : \"ENABLE BUY MODE\"}\n                    </Button.Content>\n                </Button> : null }\n  \n              </Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          </Table>\n  \n          <Transition\n  visible={this.state.showPostItem && this.state.modal === index}\n  animation=\"vertical flip\"\n  duration={400}\n  >\n  <Form\n    style={{\n      paddingBottom: \"8vh\",\n      paddingTop: \"2vh\"\n    }}\n  >\n    <Form.Group widths=\"equal\">\n     \n      <Form.Input\n        fluid\n        onChange={this.handleChange}\n        name=\"quantity\"\n        label =\"Quantity\"\n        required\n      />\n    </Form.Group>\n   \n    <Button as=\"div\" compact\n      labelPosition=\"left\"\n      size=\"large\"\n       onClick={() => this.update(item , index)}\n    >\n      <Label as=\"span\" color=\"black\">\n        Add To Cart\n      </Label>\n      <Button color=\"yellow\" icon compact>\n        <Icon name=\"shop\" color=\"black\" />\n      </Button>\n    </Button>\n  </Form>\n  </Transition>\n        \n       \n        </div>\n      ));\n\n\n      \n\n      const cartlist = this.state.cart.map((item, index) => (\n        <div>\n          \n          <Table fixed stackable\n            style={{ marginTop: \"4vh\", marginBottom: \"0vh\" }}\n          >\n            <Table.Body>\n             <Table.Row style={{background:\"lightcoral\" , color:\"black\"  }}>\n              <Table.Cell width={4} >\n               <h2>{item.product}</h2>\n              </Table.Cell>\n  \n              <Table.Cell width={3}>\n                <h2>Quantity : {item.quantity}</h2>\n              </Table.Cell>\n              <Table.Cell width={4}>\n                <h3> Cost per {item.metric} :Rs. {item.cost}</h3>\n              </Table.Cell>\n             \n  \n              <Table.Cell textAlign=\"center\" width={3}>\n                \n                   <Button size=\"small\"color={this.state.showPostItem ? \"white\" : \"yellow\"}\n                    // onClick={() => this.removeCartItem(item.foodid , index)}\n                    >\n                  <Button.Content visible>\n                  <Icon name='remove' />\n                    Remove\n                    </Button.Content>\n                </Button> \n  \n              </Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          </Table>\n          </div>\n      ));\n\n      \n      \n\n       return <div>\n\n       {this.state.loading ? (\n        <Loader style={{ marginTop: \"5%\" }} active inline=\"centered\" />\n      ) : null}\n       \n       <Grid  style={{ marginTop: \"0vh\", minHeight: \"100vh\"  }}>\n         <Grid.Column id=\"headerContainer\"   style={{ backgroundColor: \"#123445\" }}>\n          <Button\n                  color=\"green\"\n                  size=\"compact\" fluid\n                  onClick={() => this.showSetting()}\n                >\n                  <Button.Content visible>\n                    {this.state.showSetting\n                      ? \"DISABLE BUY ITEMS MODE\": \"BUY ITEMS MODE\"\n                      }\n                  </Button.Content>\n                </Button>\n          {this.state.showSetting ? <div>{listItems} <Divider/> \n          <h1>Cart Menu</h1>\n           {cartlist}</div> : null}\n\n\n           <Button float negative onClick={this.billbool} >  Order Here </Button>\n           {this.state.bill ? <Billing cart={this.state.cart} \n            retailer={this.state.retailer} list={this.state.list} /> : null }\n           \n    \n      <Button positive onClick={this.back} > Back</Button>\n      </Grid.Column>\n      </Grid>\n      </div>\n \n    }\n  }\n\n  export default Welcome;\n\n\nconst Billing = (props) => {\n\n\n\n} \n\n"]},"metadata":{},"sourceType":"module"}